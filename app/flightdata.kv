#:kivy 2.0.0

# Set the Initial Screen
HomeScreen:

<HomeScreen>:
    canvas:
        Color:
            rgba: 0.898, 0.898, 0.898, 1
        Rectangle:
            size: self.size
            pos: self.pos
    rows: 2

    GridLayout:
        cols: 3

        BoxLayout:
            orientation: 'vertical'
            VersionLabel:
                size_hint_y: 0.2
            StorageLabel:

        OsuLogo:

        Label:


    GridLayout:
        cols: 2

        BoxLayout:
            orientation: 'vertical'

            DataTransferLabel:
                size_hint_y: 0.4
                text_size: self.size
                valign: 'bottom'
                halign: 'center'
                text: 'Insert SD Card'

            AnchorLayout:
                anchor_x: 'center'
                anchor_y: 'top'
                DataTransferButton:
                    id: upload_button
                    text: 'Upload'
                    disabled: True
                    on_release: self.upload_data()

        BoxLayout:
            orientation: 'vertical'

            DataTransferLabel:
                size_hint_y: 0.4
                text_size: self.size
                valign: 'bottom'
                halign: 'center'
                text: 'Insert USB Drive'

            AnchorLayout:
                anchor_x: 'center'
                anchor_y: 'top'
                DataTransferButton:
                    id: download_button
                    text: 'Download'
                    disabled: True
                    on_release: self.download_data()

<UploadPopup>:
    size_hint: None, None
    size: (500, 400)

    GridLayout:
        rows: 2
        cols: 1

        Label:
            text: "Upload Complete\n\nIf you would like a copy of your flight data\ninsert a usb flash drive and press 'Copy'"
            font_size: 20
            halign: 'center'

        GridLayout
            cols: 2
            padding: 10, 10, 10, 10

            Button:
                text: "Close"
                font_size: 40
                size_hint: (0.9, 0.9)
                on_release: root.exit_popup()

            Button:
                id: copy_button
                text:"Copy"
                font_size: 40
                size_hint: (0.9, 0.9)
                disabled: True
                on_release: root.copy_data()

<PasswordPopup>:
    GridLayout:
        cols: 3

        AnchorLayout:
            anchor_y: 'center'
            anchor_x: 'center'

            Button:
                text: 'Exit'
                size_hint_y: 0.1
                size_hint: (0.5, 0.3)
                on_release: root.dismiss()

        GridLayout:
            rows: 4

            Label:
                id: nope_label
                bold: True
                color: [1, 0, 0, 1]
                font_size: 20
                size_hint_y: 0.1

            TextInput:
                id: passkey
                size_hint_y: 0.2
                font_size: 50
                multiline: False

            GridLayout:
                cols: 3
                rows: 4
                size_hint_x: 0.75

                ## First Row
                Button:
                    text: '1'
                    font_size: 80
                    on_release: root.btn_press(self)
                Button:
                    text: '2'
                    font_size: 80
                    on_release: root.btn_press(self)
                Button:
                    text: '3'
                    font_size: 80
                    on_release: root.btn_press(self)

                ## Second Row
                Button:
                    text: '4'
                    font_size: 80
                    on_release: root.btn_press(self)
                Button:
                    text: '5'
                    font_size: 80
                    on_release: root.btn_press(self)
                Button:
                    text: '6'
                    font_size: 80
                    on_release: root.btn_press(self)

                ## Third Row
                Button:
                    text: '7'
                    font_size: 80
                    on_release: root.btn_press(self)
                Button:
                    text: '8'
                    font_size: 80
                    on_release: root.btn_press(self)
                Button:
                    text: '9'
                    font_size: 80
                    on_release: root.btn_press(self)

                ## Fourth Row
                Button:
                    text: 'Clear'
                    font_size: 20
                    on_release: root.clear_text()
                Button:
                    text: '0'
                    font_size: 80
                    on_release: root.btn_press(self)
                Button:
                    text: 'Submit'
                    font_size: 20
                    on_release: root.submit()

            Label:
                size_hint_y: 0.05

        Label:

<DateSelectionPopup>:
    GridLayout:
        id: btn_grid
        rows: 2
        cols: 4


<AircraftSelectionPopup>:

    GridLayout:
        cols: 2

        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'center'
            size_hint_x: 0.2

            Button:
                size_hint: (1, 0.25)
                text: "Exit"
                font_size: 20
                on_release: root.dismiss()

        ScrollView:
            id: scroll_view
            do_scroll_x: False
            do_scroll_y: True
            size_hint: (1, None)
            size: (root.width*0.8, root.height*0.9)


<DownloadCompletePopup>:
    size_hint: None, None
    size: (500, 400)

    GridLayout:
        rows: 2
        cols: 3
        Label:
        Label:
            text: "Download Complete\n\nPlease remove your usb drive"
            halign: 'center'
            font_size: 25
        Label:
        Label:
        Button:
            text: "Exit"
            font_size: 40
            on_release: root.dismiss()
        Label:

<DataTransferButton>:
    text: 'undefined'
    font_size: 56
    size_hint: None, None
    size: dp(320), dp(150)

<DataTransferLabel>:
    text: 'undefined'
    font_size: 48
    color: 0.22, 0.22, 0.22, 1

<OsuLogo>:
    source: 'static/images-kivy/osu_logo.png'
    allow_stretch: True
    size_hint: None, None
    size: dp(410), dp(213)

<VersionLabel>:
    font_size: 20
    color: 0.22, 0.22, 0.22, 1
    text_size: self.size
    halign: 'left'
    valign: 'top'

<StorageLabel>:
    font_size: 20
    color: 0.22, 0.22, 0.22, 1
    text_size: self.size
    halign: 'left'
    valign: 'top'


